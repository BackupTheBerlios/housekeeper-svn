<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

  <bean id="windowCommandManager" 
    class="org.springframework.richclient.application.support.ApplicationWindowCommandManager">
    <property name="sharedCommandIds">
      <list>
        <value>duplicateCommand</value>
        <value>propertiesCommand</value>
        <value>deleteCommand</value>
      </list>
    </property>
  </bean>

  <bean id="menuBar" 
		class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <ref bean="fileMenu"/>
        <ref bean="editMenu"/>
        <value>glue</value>
        <ref bean="helpMenu"/>
      </list>
    </property>
  </bean>
  
  <bean id="toolBar" 
		class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <ref local="newItemCommand"/>
        <value>duplicateCommand</value>
        <value>propertiesCommand</value>
        <value>deleteCommand</value>
      </list>
    </property>
  </bean>
  
  <!-- Menus -->
  <bean id="fileMenu" 
    class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <ref local="newMenu"/>
        <value>separator</value>
        <bean 
          class="net.sf.housekeeper.swing.LoadCommand">
          <property name="household">
            <ref bean="household"/>
          </property>
          <property name="persistenceController">
            <ref bean="persistenceController"/>
          </property>
        </bean>
        <bean 
          class="net.sf.housekeeper.swing.SaveCommand">
          <property name="household">
            <ref bean="household"/>
          </property>
          <property name="persistenceController">
            <ref bean="persistenceController"/>
          </property>
        </bean>
        <value>separator</value>
        <bean 
          class="org.springframework.richclient.command.support.ExitCommand"/>
      </list>
    </property>
  </bean>
  
  <bean id="newMenu" 
		class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <ref local="newItemCommand"/>
      </list>
    </property>
  </bean>
  
  <bean id="editMenu" 
		class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <value>duplicateCommand</value>
        <value>propertiesCommand</value>
        <value>deleteCommand</value>
      </list>
    </property>
  </bean>
  
  <bean id="helpMenu" 
		class="org.springframework.richclient.command.CommandGroupFactoryBean">
    <property name="members">
      <list>
        <ref bean="aboutCommand"/>
      </list>
    </property>
  </bean>
  
  
  <!-- Commands -->
  
  <bean id="newItemCommandExecutor" 
		class="net.sf.housekeeper.swing.item.NewItemCommandExecutor">
    <property name="itemManager">
      <ref bean="itemManager"/>
    </property>
  </bean>

  <bean id="newItemCommand" 
		class="org.springframework.richclient.command.TargetableActionCommand">
    <property name="commandExecutor">
      <ref local="newItemCommandExecutor"/>
    </property>
  </bean>
  
  <bean id="aboutCommand" 
		class="org.springframework.richclient.command.support.AboutCommand">
    <property name="aboutTextPath">
      <value>net/sf/housekeeper/about.html</value>
    </property>
  </bean>
  
</beans>